'use client'
import { motion } from 'framer-motion'
import { useEffect, useState } from 'react'

// Add all the logos you want to show
const logos = [
  {
    name: 'Solana',
    icon: (
      <svg className="w-8 h-8" viewBox="0 0 397 311" fill="none">
        <path d="M64.6 237.9c2.4-2.4 5.7-3.8 9.2-3.8h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7c-2.4 2.4-5.7 3.8-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1l62.7-62.7z" fill="#00FFA3"/>
        <path d="M64.6 3.8C67.1 1.4 70.4 0 73.8 0h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7c-2.4 2.4-5.7 3.8-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1L64.6 3.8z" fill="#00FFA3"/>
        <path d="M323.9 120.8c-2.4-2.4-5.7-3.8-9.2-3.8H-2.7c-5.8 0-8.7 7-4.6 11.1l62.7 62.7c2.4 2.4 5.7 3.8 9.2 3.8h317.4c5.8 0 8.7-7 4.6-11.1l-62.7-62.7z" fill="#00FFA3"/>
      </svg>
    )
  },
  {
    name: 'Bitcoin',
    icon: (
      <svg className="w-8 h-8" viewBox="0 0 24 24" fill="#F7931A">
        <path d="M23.638 14.904c-1.602 6.43-8.113 10.34-14.542 8.736C2.67 22.05-1.244 15.525.362 9.105 1.962 2.67 8.475-1.243 14.9.358c6.43 1.605 10.342 8.115 8.738 14.548v-.002zm-6.35-4.613c.24-1.59-.974-2.45-2.64-3.03l.54-2.153-1.315-.33-.525 2.107c-.345-.087-.705-.167-1.064-.25l.526-2.127-1.32-.33-.54 2.165c-.285-.067-.565-.132-.84-.2l-1.815-.45-.35 1.407s.974.225.955.236c.535.136.63.486.615.766l-1.477 5.92c-.075.18-.24.45-.614.35.015.02-.96-.24-.96-.24l-.66 1.51 1.71.426.93.236-.54 2.19 1.32.327.54-2.17c.36.1.705.19 1.05.273l-.51 2.154 1.32.33.545-2.19c2.24.427 3.93.257 4.64-1.774.57-1.637-.03-2.58-1.217-3.196.854-.193 1.5-.76 1.68-1.93h.01zm-3.01 4.22c-.404 1.64-3.157.75-4.05.53l.72-2.9c.896.23 3.757.67 3.33 2.37zm.41-4.24c-.37 1.49-2.662.735-3.405.55l.654-2.64c.744.18 3.137.524 2.75 2.084v.006z"/>
      </svg>
    )
  },
  {
    name: 'HTML',
    icon: (
      <svg className="w-8 h-8" viewBox="0 0 24 24" fill="#E34F26">
        <path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157H8.531z"/>
      </svg>
    )
  },
  {
    name: 'Bot',
    icon: (
      <svg className="w-8 h-8" viewBox="0 0 24 24" fill="#00ff9d">
        <path d="M12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7zm-1 14h2v-2h-2v2zm0-4h2V8h-2v4zM6 9c0-3.31 2.69-6 6-6s6 2.69 6 6c0 2.97-2.16 5.44-5 5.92V16h-2v-1.08C8.16 14.44 6 11.97 6 9z"/>
        <path d="M21 11h-1c0 4.97-4.03 9-9 9s-9-4.03-9-9H1c0 5.51 4.49 10 10 10s10-4.49 10-10z"/>
        <path d="M13 6.06V5h-2v1.06c2.23.24 3.94 1.95 4.18 4.18H16v-2h-1.82C13.8 7.04 13 6.11 13 6.06z"/>
        <path d="M11 6.06C8.77 6.3 7.06 8.01 6.82 10.24H5v2h1.18C6.42 13.45 7.35 14.24 7.4 14.24V16h2v-1.06C7.17 14.7 5.46 12.99 5.22 10.76H4v-2h1.18C5.58 7.55 6.65 6.76 6.7 6.76V5h2v1.06z"/>
        {/* Robot eyes */}
        <circle cx="9" cy="9" r="1" fill="#0a0a0f"/>
        <circle cx="15" cy="9" r="1" fill="#0a0a0f"/>
        {/* Robot mouth */}
        <path d="M9 12h6c0 1.1-.9 2-2 2h-2c-1.1 0-2-.9-2-2z" fill="#0a0a0f"/>
      </svg>
    )
  },
  {
    name: 'React',
    icon: (
      <svg className="w-8 h-8" viewBox="0 0 24 24" fill="#61DAFB">
        <path d="M12 13.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0-9.75c-4.068 0-7.89.96-10.765 2.628C.375 6.948 0 7.788 0 8.25c0 .462.375 1.302 1.235 1.872C4.11 11.79 7.932 12.75 12 12.75s7.89-.96 10.765-2.628C23.625 9.552 24 8.712 24 8.25c0-.462-.375-1.302-1.235-1.872C19.89 4.71 16.068 3.75 12 3.75zm0 17.25c-4.068 0-7.89-.96-10.765-2.628C.375 17.802 0 16.962 0 16.5c0-.462.375-1.302 1.235-1.872C4.11 13.056 7.932 12.096 12 12.096s7.89.96 10.765 2.628c.86.57 1.235 1.41 1.235 1.872 0 .462-.375 1.302-1.235 1.872C19.89 20.04 16.068 21 12 21z"/>
      </svg>
    )
  },
  {
    name: 'Node.js',
    icon: (
      <svg className="w-8 h-8" viewBox="0 0 24 24" fill="#339933">
        <path d="M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.076 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.108-0.116,2.108-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.57,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.273-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,1.607c0.024,0.115,0.129,0.199,0.247,0.199h1.141c0.071,0,0.138-0.031,0.186-0.081 c0.048-0.054,0.074-0.123,0.067-0.196c-0.177-2.098-1.571-3.076-4.388-3.076c-2.508,0-4.004,1.058-4.004,2.833 c0,1.925,1.488,2.457,3.895,2.695c2.88,0.282,3.103,0.703,3.103,1.269c0,0.983-0.789,1.402-2.642,1.402 c-2.327,0-2.839-0.584-3.011-1.742c-0.02-0.124-0.126-0.215-0.253-0.215h-1.137c-0.141,0-0.254,0.112-0.254,0.253 c0,1.482,0.806,3.248,4.655,3.248C17.501,17.007,19.099,15.91,19.099,13.993z"/>
      </svg>
    )
  },
  {
    name: 'Python',
    icon: (
      <svg className="w-8 h-8" viewBox="0 0 24 24">
        <path fill="#3776AB" d="M11.914 0C5.82 0 6.2 2.656 6.2 2.656l.007 2.752h5.814v.826H3.9S0 5.789 0 11.969c0 6.18 3.403 5.96 3.403 5.96h2.03v-2.867s-.109-3.42 3.35-3.42h5.766s3.24.052 3.24-3.148V3.202S18.28 0 11.914 0zM8.708 1.85c.578 0 1.046.47 1.046 1.052 0 .581-.468 1.051-1.046 1.051-.579 0-1.046-.47-1.046-1.051 0-.582.467-1.052 1.046-1.052z"/>
        <path fill="#FFC331" d="M12.087 24c6.092 0 5.712-2.656 5.712-2.656l-.007-2.752h-5.814v-.826h8.123s3.9.445 3.9-5.735c0-6.18-3.404-5.96-3.404-5.96h-2.03v2.867s.109 3.42-3.35 3.42H9.452s-3.24-.052-3.24 3.148v5.292S5.72 24 12.087 24zm3.206-1.85c-.578 0-1.046-.47-1.046-1.052 0-.581.468-1.051 1.046-1.051.579 0 1.046.47 1.046 1.051 0 .582-.467 1.052-1.046 1.052z"/>
      </svg>
    )
  }
]

export default function FallingLogos() {
  const [items, setItems] = useState<Array<{ id: number; logo: any; x: number }>>([])
  const [count, setCount] = useState(0)

  useEffect(() => {
    // Create new logos
    const interval = setInterval(() => {
      if (items.length < 15) {
        const randomLogo = logos[Math.floor(Math.random() * logos.length)]
        const randomX = Math.random() * (typeof window !== 'undefined' ? window.innerWidth - 100 : 900)
        
        setItems(prev => [...prev, {
          id: count,
          logo: randomLogo,
          x: randomX
        }])
        setCount(prev => prev + 1)
      }
    }, 2000) // New logo every 2 seconds

    // Cleanup old logos that have fallen off screen
    const cleanup = setInterval(() => {
      setItems(prev => prev.filter(item => {
        const element = document.getElementById(`logo-${item.id}`)
        if (element) {
          const rect = element.getBoundingClientRect()
          return rect.top < window.innerHeight
        }
        return false
      }))
    }, 5000) // Check for cleanup every 5 seconds

    return () => {
      clearInterval(interval)
      clearInterval(cleanup)
    }
  }, [items, count])

  return (
    <div className="fixed inset-0 pointer-events-none overflow-hidden z-10">
      {items.map((item) => (
        <motion.div
          key={item.id}
          id={`logo-${item.id}`}
          className="absolute"
          initial={{ y: -20, x: item.x, opacity: 0, rotate: 0 }}
          animate={{ 
            y: window.innerHeight + 50,
            opacity: [0, 1, 1, 0],
            rotate: [0, 360]
          }}
          transition={{ 
            duration: 15,
            ease: "linear",
            rotate: {
              duration: 20,
              repeat: Infinity,
              ease: "linear"
            }
          }}
          onAnimationComplete={() => {
            setItems(prev => prev.filter(i => i.id !== item.id))
          }}
        >
          <motion.div
            whileHover={{ scale: 1.2 }}
            className="backdrop-blur-sm bg-[#1a1a2e]/30 p-3 rounded-full"
          >
            {item.logo.icon}
          </motion.div>
        </motion.div>
      ))}
    </div>
  )
} 